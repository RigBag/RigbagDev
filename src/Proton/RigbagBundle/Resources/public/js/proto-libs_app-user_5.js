RigBagUser=function(){this.id=null};RigBagUser.prototype.setId=function(a){this.id=a};RigBagUser.prototype.search=function(){var a={query:$("#searchQuery").val(),circle:$(".circles-sidebar li.active").attr("data-id")};rbApp.actionStamp=new Date().getTime();a.actionStamp=rbApp.actionStamp;$.ajax({type:"POST",url:APP_PATH+"users/search/",data:a,cache:false,dataType:"json",success:function(b){hideLoader();if(b.actionStamp==rbApp.actionStamp){$("#circle-content").html(b.content)}}})};RigBagUser.prototype.refreshAccount=function(){this.panelRefresh()};RigBagUser.prototype.refreshMessages=function(){var a={};$.ajax({type:"POST",url:APP_PATH+"user/panel/messages/",data:a,cache:false,dataType:"json",success:function(b){$("#user-panel .popover-content").html(b.content)}})};RigBagUser.prototype.panelRefresh=function(){var a={};$.ajax({type:"POST",url:APP_PATH+"user/panel/refresh/",data:a,cache:false,dataType:"json",success:function(b){$("#user-panel .message .info").html(b.messages.newCount);if(b.messages.newCount){$("#user-panel .message").addClass("active")}else{$("#user-panel .message").removeClass("active")}},error:function(b){console.log(b)}})};RigBagUser.prototype.profileUpdate=function(b){if(b===undefined){b=false}if($("#formProfile").valid()){showLoader();var a={name:$(".f-name").val(),email:$(".f-email").val(),location:$(".f-location").val(),location_cc:$(".f-location-cc").val(),location_formated:$(".f-location-formated").val(),location_lat:$(".f-location-lat").val(),location_lng:$(".f-location-lng").val(),postCode:"",paypalId:$(".f-paypal").val(),phone:$(".f-phone").val(),bio:$(".f-bio").val()};$.ajax({type:"POST",url:APP_PATH+"settings/my-profile-update/",data:a,cache:false,dataType:"json",success:function(d){hideLoader();if(d.success){if(b){setUrl("/signup/mysports/")}else{rbApp.showFlash("","Your profile has been updated.","success",6000)}}else{for(var c in d.errorFields){$("."+d.errorFields[c]).addClass("error")}}},error:function(){hideLoader();rbApp.showFlash("Error","Upsss","error",10000)}})}};RigBagUser.prototype.facebookConnect=function(){var a={bckData:{name:$(".f-name").val(),email:$(".f-email").val(),location:$(".f-location").val(),location_cc:$(".f-location-cc").val(),postCode:$(".f-post-code").val(),phone:$(".f-phone").val(),bio:$(".f-bio").val()}};$.ajax({type:"POST",url:APP_PATH+"settings/connect/facebook/",data:a,cache:false,dataType:"json",success:function(b){if(b.canConnect){window.location=APP_PATH+"login/facebook/"}},error:function(){}})};RigBagUser.prototype.facebookDisconnect=function(){$.ajax({type:"POST",url:APP_PATH+"settings/disconnect/facebook/",data:data,cache:false,dataType:"json",success:function(a){},error:function(){}})};RigBagUser.prototype.twitterConnect=function(){var a={bckData:{name:$(".f-name").val(),email:$(".f-email").val(),location:$(".f-location").val(),location_cc:$(".f-location-cc").val(),postCode:$(".f-post-code").val(),phone:$(".f-phone").val(),bio:$(".f-bio").val()}};$.ajax({type:"POST",url:APP_PATH+"settings/connect/twitter/",data:a,cache:false,dataType:"json",success:function(b){if(b.canConnect){window.location=APP_PATH+"login/twitter/"}},error:function(){}})};RigBagUser.prototype.twitterDisconnect=function(){$.ajax({type:"POST",url:APP_PATH+"settings/disconnect/twitter/",data:data,cache:false,dataType:"json",success:function(a){},error:function(){}})};RigBagUser.prototype.googleConnect=function(){var a={bckData:{name:$(".f-name").val(),email:$(".f-email").val(),location:$(".f-location").val(),location_cc:$(".f-location-cc").val(),postCode:$(".f-post-code").val(),phone:$(".f-phone").val(),bio:$(".f-bio").val()}};$.ajax({type:"POST",url:APP_PATH+"settings/connect/google/",data:a,cache:false,dataType:"json",success:function(b){if(b.canConnect){window.location=APP_PATH+"login/google/"}},error:function(){}})};RigBagUser.prototype.googleDisconnect=function(){$.ajax({type:"POST",url:APP_PATH+"settings/disconnect/google/",data:data,cache:false,dataType:"json",success:function(a){},error:function(){}})};